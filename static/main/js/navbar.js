$(document).ready((function(){function e(e){var n=this;this.element=e,this.cache={},this.mainNavigation=this.element.find(".nav-menu"),this.mainNavigationItems=this.mainNavigation.find(".has-dropdown"),this.dropdownList=this.element.find(".mega-menu-items"),this.dropdownWrappers=this.dropdownList.find(".dropdown"),this.dropdownItems=this.dropdownList.find(".dropdown-content"),this.dropdownBg=this.dropdownList.find(".bg-layer"),this.arrow=this.element.find(".mega-menu-arrow"),this.mainNavigationItems.each((function(e,t){var o=$(t).text().toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"");$(t).attr("data-content",o),n.cache[e]={slug:o,title:$(t).text()}})),this.dropdownWrappers.each((function(e,t){var o=n.cache[e];$(t).attr("id","menu-"+o.slug)})),this.bindEvents()}$("body").addClass("loaded"),e.prototype.bindEvents=function(){var e=this;this.mainNavigationItems.mouseenter((function(n){e.showDropdown($(this))})).mouseleave((function(){setTimeout((function(){0==e.mainNavigation.find(".has-dropdown:hover").length&&0==e.element.find(".mega-menu-items:hover").length&&e.hideDropdown()}),50)})),this.dropdownList.mouseleave((function(){setTimeout((function(){0==e.mainNavigation.find(".has-dropdown:hover").length&&0==e.element.find(".mega-menu-items:hover").length&&e.hideDropdown()}),50)})),this.mainNavigationItems.on("touchstart",(function(n){var t=e.dropdownList.find("#"+$(this).data("content"));e.element.hasClass("is-dropdown-visible")&&t.hasClass("active")||(n.preventDefault(),e.showDropdown($(this)))})),this.element.on("click",".nav-trigger",(function(n){n.preventDefault(),e.element.toggleClass("nav-open")}))},e.prototype.showDropdown=function(e){if(window.innerWidth>991){var n=this,t=this.dropdownList.find("#menu-"+e.data("content")),o=t.innerHeight(),i=t.children(".dropdown-content").innerWidth()+48;this.updateDropdown(e,t,parseInt(o),i),this.element.find(".active").removeClass("active"),t.addClass("active").removeClass("move-left move-right").prevAll().addClass("move-left").end().nextAll().addClass("move-right"),e.addClass("active"),this.element.hasClass("is-dropdown-visible")||setTimeout((function(){n.element.addClass("is-dropdown-visible")}),10)}},e.prototype.updateDropdown=function(e,n,t,o){this.dropdownList.css({width:o+"px",height:t+"px"}),this.dropdownBg.css({"-moz-transform":"scaleX("+o+") scaleY("+t+")","-webkit-transform":"scaleX("+o+") scaleY("+t+")","-ms-transform":"scaleX("+o+") scaleY("+t+")","-o-transform":"scaleX("+o+") scaleY("+t+")",transform:"scaleX("+o+") scaleY("+t+")"});var i=e.get(0).offsetLeft-this.dropdownList.get(0).offsetLeft+e.innerWidth()/2-12;this.arrow.css({left:i+"px"})},e.prototype.hideDropdown=function(){window.innerWidth>991&&this.element.removeClass("is-dropdown-visible").find(".active").removeClass("active").end().find(".move-left").removeClass("move-left").end().find(".move-right").removeClass("move-right")},e.prototype.resetDropdown=function(){window.innerWidth<=991&&this.dropdownList.removeAttr("style")};var n=[];if($(".nav-menu-wrapper").length>0){var t=function(){n.forEach((function(e){e.resetDropdown()})),o=!1};$(".nav-menu-wrapper").each((function(){n.push(new e($(this)))}));var o=!1;t(),$(window).on("resize",(function(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,300))}))}$(".menu-button.w-nav-button").on("click",(function(){var e=$("body").hasClass("is-menu-open");$(".nav-menu-wrapper.w-nav-menu").css({display:e?"none":"block",top:e?0:70}),e?$("body").removeClass("is-menu-open"):$("body").addClass("is-menu-open")}))}));